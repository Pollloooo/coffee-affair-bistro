<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>The Coffee Affair Bistro | Premium Coffee Experience</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <style>
        /* CSS Variables for premium theme */
        :root {
            --primary: #8B4513;
            --primary-dark: #6B3410;
            --secondary: #D4B79E;
            --accent: #C17A3F;
            --light: #FAF7F2;
            --dark: #2C1810;
            --text: #3D2C1E;
            --text-light: #7D6E63;
            --white: #FFFFFF;
            --shadow: 0 10px 40px rgba(139, 69, 19, 0.08);
            --shadow-hover: 0 20px 60px rgba(139, 69, 19, 0.15);
            --transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            --radius: 16px;
            --radius-sm: 8px;
            --border: 1px solid rgba(139, 69, 19, 0.08);
            --success: #2E7D32;
            --error: #C62828;
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text);
            line-height: 1.7;
            background-color: var(--light);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            line-height: 1.2;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }

        ul {
            list-style: none;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        .container {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 24px;
        }

        .section-padding {
            padding: 100px 0;
        }

        /* Premium Header */
        .site-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 24px 0;
            transition: var(--transition);
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: var(--border);
        }

        .site-header.scrolled {
            padding: 16px 0;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: var(--shadow);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .site-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--dark);
            position: relative;
            padding-left: 12px;
        }

        .site-title::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, var(--primary), var(--accent));
            border-radius: 2px;
        }

        /* Navigation */
        .header-nav ul {
            display: flex;
            gap: 40px;
        }

        .header-nav a {
            font-weight: 500;
            font-size: 0.95rem;
            letter-spacing: 0.5px;
            color: var(--text);
            padding: 8px 0;
            position: relative;
        }

        .header-nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            transition: var(--transition);
        }

        .header-nav a:hover {
            color: var(--primary);
        }

        .header-nav a:hover::after {
            width: 100%;
        }

        /* Header Actions */
        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .login-icon {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: var(--white);
            padding: 10px 28px;
            border-radius: var(--radius-sm);
            font-weight: 500;
            letter-spacing: 0.5px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .login-icon:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        #user-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        #user-name {
            color: var(--primary);
            font-weight: 500;
        }

        #logout-link {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 8px 20px;
        }

        /* Hero Section - Premium Redesign */
        .hero {
            min-height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            overflow: hidden;
        }

        .hero-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('images/main.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            transform: scale(1.05);
            transition: transform 1.2s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .hero-background::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                135deg,
                rgba(44, 24, 16, 0.85) 0%,
                rgba(44, 24, 16, 0.6) 100%
            );
        }

        .hero:hover .hero-background {
            transform: scale(1);
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            padding: 120px 24px;
            color: var(--white);
        }

        .hero-content h1 {
            font-size: 4.5rem;
            margin-bottom: 24px;
            background: linear-gradient(to right, #fff, var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeUp 1s ease-out;
        }

        .hero-content p {
            font-size: 1.25rem;
            line-height: 1.8;
            margin-bottom: 48px;
            color: rgba(255, 255, 255, 0.9);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeUp 1s ease-out 0.2s both;
        }

        .btn-learn-more {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            color: var(--white);
            padding: 18px 48px;
            border-radius: var(--radius);
            font-weight: 500;
            font-size: 1.1rem;
            letter-spacing: 1px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: none;
            cursor: pointer;
            animation: fadeUp 1s ease-out 0.4s both;
        }

        .btn-learn-more:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .btn-learn-more i {
            transition: transform 0.3s ease;
        }

        .btn-learn-more:hover i {
            transform: translateX(4px);
        }

        /* Featured Products Section */
        .products-section {
            padding: 120px 0;
            background: var(--white);
            position: relative;
        }

        .products-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--secondary), transparent);
        }

        .section-title {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 80px;
            color: var(--dark);
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            margin: 20px auto 0;
            border-radius: 2px;
        }

        /* Premium Product Cards */
        .carousel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            margin-top: 40px;
        }

        .product-card {
            background: var(--white);
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            border: var(--border);
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            z-index: 1;
        }

        .product-card:hover {
            transform: translateY(-12px);
            box-shadow: var(--shadow-hover);
        }

        .product-image-container {
            height: 280px;
            overflow: hidden;
            position: relative;
        }

        .product-image-container::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(to top, rgba(0,0,0,0.3), transparent);
            opacity: 0;
            transition: var(--transition);
        }

        .product-card:hover .product-image-container::after {
            opacity: 1;
        }

        .product-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .product-card:hover .product-image-container img {
            transform: scale(1.1);
        }

        .product-name {
            padding: 24px;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--dark);
            position: relative;
        }

        .product-name::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 2px;
            background: var(--secondary);
            opacity: 0;
            transition: var(--transition);
        }

        .product-card:hover .product-name::before {
            opacity: 1;
        }

        /* Gallery Section */
        .image-section {
            padding: 120px 0;
            background: var(--light);
        }

        .bistro-image {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-top: 40px;
        }

        .product-card-2 {
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            aspect-ratio: 1;
            border: var(--border);
        }

        .product-card-2::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(139, 69, 19, 0.1), transparent);
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .product-card-2:hover::before {
            opacity: 1;
        }

        .product-card-2:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }

        .product-card-2 .product-image-container {
            height: 100%;
        }

        .product-card-2 img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .product-card-2:hover img {
            transform: scale(1.08);
        }

        /* Premium Footer */
        .site-footer {
            background: var(--dark);
            color: var(--white);
            padding: 80px 0 40px;
            position: relative;
            overflow: hidden;
        }

        .site-footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--accent));
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 60px;
            margin-bottom: 60px;
        }

        .footer-column h3 {
            font-size: 1.5rem;
            margin-bottom: 24px;
            color: var(--secondary);
            position: relative;
            padding-bottom: 12px;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background: var(--accent);
        }

        .footer-column p {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
            margin-bottom: 24px;
        }

        .footer-column ul li {
            margin-bottom: 12px;
        }

        .footer-column a {
            color: rgba(255, 255, 255, 0.8);
            transition: var(--transition);
            display: inline-block;
        }

        .footer-column a:hover {
            color: var(--secondary);
            transform: translateX(4px);
        }

        .footer-column i {
            width: 20px;
            margin-right: 12px;
            color: var(--accent);
        }

        .social-links {
            display: flex;
            gap: 16px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transition: var(--transition);
        }

        .social-links a:hover {
            background: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(139, 69, 19, 0.3);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: transparent;
            border: none;
            width: 40px;
            height: 40px;
            position: relative;
            cursor: pointer;
            z-index: 1002;
        }

        .mobile-menu-btn span {
            display: block;
            width: 24px;
            height: 2px;
            background: var(--dark);
            margin: 5px auto;
            transition: var(--transition);
        }

        .mobile-menu-btn.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .mobile-menu-btn.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Chatbot Styles */
        .chatbot-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 999;
        }

        .chatbot-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: var(--shadow-hover);
            transition: var(--transition);
        }

        .chatbot-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 30px rgba(139, 69, 19, 0.3);
        }

        .chatbot-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 350px;
            height: 500px;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow-hover);
            overflow: hidden;
            display: none;
            flex-direction: column;
            transform: translateY(20px);
            opacity: 0;
            transition: var(--transition);
        }

        .chatbot-window.active {
            display: flex;
            transform: translateY(0);
            opacity: 1;
        }

        .chat-header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .close-chat {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }

        .close-chat:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.4;
            animation: fadeIn 0.3s ease-out;
            /* Add these properties for better text wrapping */
            word-wrap: break-word;
            word-break: break-word;
            overflow-wrap: break-word;
            hyphens: auto;
        }

        /* Specifically for URLs in messages */
        .message a {
            word-break: break-all;
            color: inherit;
            text-decoration: underline;
            text-decoration-color: rgba(139, 69, 19, 0.3);
            transition: var(--transition);
        }

        .bot-message {
            background: var(--light);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .bot-message a {
            color: var(--primary);
            font-weight: 500;
        }

        .bot-message a:hover {
            color: var(--primary-dark);
        }

        .user-message {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .user-message a {
            color: rgba(255, 255, 255, 0.9);
        }

        .chat-input-area {
            padding: 20px;
            border-top: var(--border);
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: var(--border);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(139, 69, 19, 0.1);
        }

        .send-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .send-btn:hover {
            transform: translateY(-2px);
        }

        .typing-indicator {
            display: none;
            align-self: flex-start;
            background: var(--light);
            padding: 12px 16px;
            border-radius: 18px;
            border-bottom-left-radius: 4px;
        }

        .typing-indicator.active {
            display: block;
        }

        .typing-dots {
            display: flex;
            gap: 4px;
        }

        .typing-dots span {
            width: 6px;
            height: 6px;
            background: var(--text-light);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dots span:nth-child(2) { animation-delay: 0.2s; }
        .typing-dots span:nth-child(3) { animation-delay: 0.4s; }

        /* Rating System Styles */
        .rating-container {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 999;
        }

        .rating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--primary-dark));
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            box-shadow: var(--shadow-hover);
            transition: var(--transition);
        }

        .rating-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 30px rgba(139, 69, 19, 0.3);
        }

        .rating-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .rating-modal.active {
            display: flex;
            opacity: 1;
        }

        .rating-content {
            background: var(--white);
            width: 90%;
            max-width: 500px;
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--shadow-hover);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .rating-modal.active .rating-content {
            transform: translateY(0);
        }

        .rating-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--dark);
        }

        .stars {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px 0;
        }

        .star {
            font-size: 2.5rem;
            color: var(--secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        .star:hover,
        .star.active {
            color: var(--accent);
            transform: scale(1.2);
        }

        .rating-feedback {
            width: 100%;
            padding: 15px;
            border: var(--border);
            border-radius: var(--radius-sm);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            margin: 20px 0;
            resize: vertical;
            min-height: 100px;
            transition: var(--transition);
        }

        .rating-feedback:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(139, 69, 19, 0.1);
        }

        .rating-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .rating-buttons button {
            flex: 1;
            padding: 15px;
            border-radius: var(--radius-sm);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
        }

        .submit-rating {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
        }

        .submit-rating:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .cancel-rating {
            background: var(--light);
            color: var(--text);
            border: var(--border);
        }

        .cancel-rating:hover {
            background: rgba(139, 69, 19, 0.05);
        }

        .thank-you-message {
            text-align: center;
            padding: 20px;
            display: none;
        }

        .thank-you-message i {
            font-size: 3rem;
            color: var(--success);
            margin-bottom: 20px;
        }

        /* Animations */
        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-5px);
            }
        }

        /* Loading Animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .coffee-cup {
            width: 60px;
            height: 60px;
            border: 4px solid var(--secondary);
            border-radius: 0 0 20px 20px;
            position: relative;
            animation: coffeeSteam 2s infinite;
        }

        .coffee-cup::before {
            content: '';
            position: absolute;
            top: -15px;
            left: -4px;
            width: 68px;
            height: 10px;
            border: 4px solid var(--secondary);
            border-radius: 50%;
        }

        .coffee-cup::after {
            content: '';
            position: absolute;
            top: -25px;
            right: -20px;
            width: 10px;
            height: 30px;
            border: 4px solid var(--secondary);
            border-radius: 50%;
            transform: rotate(45deg);
        }

        @keyframes coffeeSteam {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero-content h1 {
                font-size: 3.5rem;
            }
            
            .carousel {
                grid-template-columns: repeat(2, 1fr);
            }

            .chatbot-window {
                width: 320px;
                height: 450px;
            }
        }

        @media (max-width: 768px) {
            .section-padding {
                padding: 80px 0;
            }
            
            .hero-content h1 {
                font-size: 2.75rem;
            }
            
            .hero-content p {
                font-size: 1.1rem;
            }
            
            .section-title {
                font-size: 2.25rem;
            }
            
            .header-nav {
                position: fixed;
                top: 0;
                right: -100%;
                width: 300px;
                height: 100vh;
                background: var(--white);
                padding: 100px 40px;
                transition: var(--transition);
                box-shadow: var(--shadow-hover);
                z-index: 1001;
            }
            
            .header-nav.active {
                right: 0;
            }
            
            .header-nav ul {
                flex-direction: column;
                gap: 30px;
            }
            
            .header-nav a {
                font-size: 1.1rem;
                display: block;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .carousel,
            .bistro-image {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .chatbot-container,
            .rating-container {
                bottom: 20px;
                right: 20px;
            }

            .rating-container {
                left: 20px;
            }

            .chatbot-btn,
            .rating-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }

            .chatbot-window {
                width: calc(100% - 40px);
                height: 400px;
                right: 20px;
            }

            .rating-content {
                padding: 30px 20px;
            }
        }

        @media (max-width: 480px) {
            .hero-content h1 {
                font-size: 2.25rem;
            }
            
            .btn-learn-more {
                padding: 16px 32px;
                width: 100%;
                max-width: 280px;
            }
            
            .container {
                padding: 0 16px;
            }

            .rating-buttons {
                flex-direction: column;
            }

            .stars {
                gap: 5px;
            }

            .star {
                font-size: 2rem;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--light);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, var(--primary), var(--accent));
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, var(--primary-dark), var(--primary));
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading" id="loading">
        <div class="coffee-cup"></div>
    </div>

    <!-- Premium Header -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <h1 class="site-title"><a href="index.html">The Coffee Affair Bistro</a></h1>
                
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <nav class="header-nav" id="headerNav">
                    <ul>
                        <li><a href="#hero">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="order.html">Menu</a></li>
                        <li><a href="#footer">Contact</a></li>
                    </ul>
                </nav>
                
                <div class="header-actions">
                    <div id="user-info">
                        <span id="user-name"></span>
                        <a href="#" id="logout-link" class="login-icon">Logout</a>
                    </div>
                    <a href="login.html" class="login-icon" id="login-button">Login</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="hero-background"></div>
        <div class="container">
            <div class="hero-content">
                <h1>Experience Perfection in Every Cup</h1>
                <p>Award-winning coffee crafted with passion in the heart of Santa Cruz, Laguna. Where every sip tells a story of quality, tradition, and innovation.</p>
                <a href="#" class="btn-learn-more" id="order-now-btn">
                    Order Now <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Featured Drinks -->
    <section id="products" class="products-section section-padding">
        <div class="container">
            <h2 class="section-title">Signature Creations</h2>
            <div class="carousel">
                <div class="product-card">
                    <div class="product-image-container">
                        <img src="images/signature milkshakes/Brown Sugar Milk Tea.jpg" alt="Brown Sugar Milk Tea" />
                    </div>
                    <p class="product-name">Brown Sugar Milk Tea</p>
                </div>
                
                <div class="product-card">
                    <div class="product-image-container">
                        <img src="images/Signature Milktea/Matcha Blast.jfif" alt="Matcha Blast" />
                    </div>
                    <p class="product-name">Matcha Blast</p>
                </div>
                
                <div class="product-card">
                    <div class="product-image-container">
                        <img src="images/coffee/Nutella Latte.jfif" alt="Nutella Latte" />
                    </div>
                    <p class="product-name">Nutella Latte</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="images" class="image-section section-padding">
        <div class="container">
            <h2 class="section-title">Our Coffee Journey</h2>
            <div class="bistro-image">
                <div class="product-card-2">
                    <div class="product-image-container">
                        <img src="images/labas.jpg" alt="Coffee Shop Ambiance" />
                    </div>
                </div>
                
                <div class="product-card-2">
                    <div class="product-image-container">
                        <img src="images/labas 2.jpg" alt="Coffee Preparation" />
                    </div>
                </div>
                
                <div class="product-card-2">
                    <div class="product-image-container">
                        <img src="images/loob 2.jpg" alt="Interior Design" />
                    </div>
                </div>
                
                <div class="product-card-2">
                    <div class="product-image-container">
                        <img src="images/loob 3.jpg" alt="Customer Experience" />
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Premium Footer -->
    <footer id="footer" class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>The Coffee Affair Bistro</h3>
                    <p>Where passion meets perfection. We're dedicated to crafting exceptional coffee experiences that awaken your senses and create lasting memories.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/tcabistroph" aria-label="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.instagram.com/tcabistroph/" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>Explore</h3>
                    <ul>
                        <li><a href="#hero"><i class="fas fa-home"></i> Home</a></li>
                        <li><a href="about.html"><i class="fas fa-history"></i> Our Story</a></li>
                        <li><a href="order.html"><i class="fas fa-mug-hot"></i> Full Menu</a></li>
                        <li><a href="https://maps.app.goo.gl/tT3YgcPiYz352s8DA"><i class="fas fa-map-marker-alt"></i> Visit Us</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>Contact Info</h3>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> Bagumbayan, Santa Cruz, Laguna</li>
                        <li><i class="fas fa-clock"></i> Open Daily: 12PM - 9PM</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2022 The Coffee Affair Bistro. All rights reserved. | Crafted with <i class="fas fa-heart" style="color: var(--accent);"></i> in Santa Cruz</p>
            </div>
        </div>
    </footer>

    <!-- Chatbot Button and Window -->
    <div class="chatbot-container">
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chat-header">
                <h3>Barista Assistant</h3>
                <button class="close-chat" id="closeChat">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    Hi there! ðŸ‘‹ I'm your virtual barista. How can I help you today? 
                    You can ask about our <strong>menu</strong>, <strong>hours</strong>, 
                    <strong>location</strong>, or anything coffee-related! 
                    We're located in Bagumbayan, Santa Cruz, Laguna. Find us on 
                    <a href="https://maps.app.goo.gl/tT3YgcPiYz352s8DA" target="_blank" rel="noopener noreferrer">Google Maps</a>.
                </div>
            </div>
            <div class="typing-indicator" id="typingIndicator">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <div class="chat-input-area">
                <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..." />
                <button class="send-btn" id="sendMessage">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
        <button class="chatbot-btn" id="chatbotBtn">
            <i class="fas fa-comment-dots"></i>
        </button>
    </div>

    <!-- Rating System -->
    <div class="rating-container">
        <div class="rating-modal" id="ratingModal">
            <div class="rating-content">
                <div class="rating-form" id="ratingForm">
                    <h2 class="rating-title">Rate Your Experience</h2>
                    <p style="text-align: center; color: var(--text-light); margin-bottom: 20px;">
                        How was your experience at The Coffee Affair Bistro?
                    </p>
                    <div class="stars">
                        <i class="fas fa-star star" data-rating="1"></i>
                        <i class="fas fa-star star" data-rating="2"></i>
                        <i class="fas fa-star star" data-rating="3"></i>
                        <i class="fas fa-star star" data-rating="4"></i>
                        <i class="fas fa-star star" data-rating="5"></i>
                    </div>
                    <textarea 
                        class="rating-feedback" 
                        id="ratingFeedback" 
                        placeholder="Optional: Share your feedback about your visit..."
                    ></textarea>
                    <div class="rating-buttons">
                        <button class="submit-rating" id="submitRating">Submit Rating</button>
                        <button class="cancel-rating" id="cancelRating">Cancel</button>
                    </div>
                </div>
                <div class="thank-you-message" id="thankYouMessage">
                    <i class="fas fa-check-circle"></i>
                    <h3>Thank You!</h3>
                    <p>Your rating has been submitted. We appreciate your feedback!</p>
                </div>
            </div>
        </div>
        <button class="rating-btn" id="ratingBtn">
            <i class="fas fa-star"></i>
        </button>
    </div>

    <script>
        // Enhanced JavaScript with modern features
        document.addEventListener('DOMContentLoaded', function() {
            const loadingScreen = document.getElementById('loading');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const headerNav = document.getElementById('headerNav');
            const header = document.querySelector('.site-header');
            const orderBtn = document.getElementById('order-now-btn');
            const userInfo = document.getElementById('user-info');
            const loginButton = document.getElementById('login-button');
            const userName = document.getElementById('user-name');
            const logoutLink = document.getElementById('logout-link');

            // Loading animation
            setTimeout(() => {
                loadingScreen.classList.add('hidden');
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 500);
            }, 800);

            // Mobile menu functionality
            mobileMenuBtn.addEventListener('click', function() {
                this.classList.toggle('active');
                headerNav.classList.toggle('active');
                document.body.style.overflow = headerNav.classList.contains('active') ? 'hidden' : '';
            });

            // Close mobile menu when clicking outside
            document.addEventListener('click', function(event) {
                if (!headerNav.contains(event.target) && !mobileMenuBtn.contains(event.target)) {
                    mobileMenuBtn.classList.remove('active');
                    headerNav.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });

            // Header scroll effect
            let lastScroll = 0;
            window.addEventListener('scroll', function() {
                const currentScroll = window.pageYOffset;
                
                if (currentScroll > 100) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
                
                // Parallax effect for hero background
                const heroBackground = document.querySelector('.hero-background');
                const scrolled = window.pageYOffset;
                const rate = scrolled * -0.5;
                heroBackground.style.transform = `translate3d(0, ${rate}px, 0) scale(1.05)`;
                
                lastScroll = currentScroll;
            });

            // Check login status and update UI
            function checkAuthStatus() {
                const user = JSON.parse(localStorage.getItem('bistroLoggedInUser'));
                
                if (user && user.name) {
                    userName.textContent = `Welcome, ${user.name}`;
                    userInfo.style.display = 'flex';
                    loginButton.style.display = 'none';
                } else {
                    userInfo.style.display = 'none';
                    loginButton.style.display = 'block';
                }
            }

            // Order button functionality
            orderBtn.addEventListener('click', function(e) {
                e.preventDefault();
                const user = JSON.parse(localStorage.getItem('bistroLoggedInUser'));
                
                if (user && user.name) {
                    window.location.href = 'customer.html';
                } else {
                    if (confirm('Please login to place an order. Would you like to login now?')) {
                        window.location.href = 'login.html';
                    }
                }
            });

            // Logout functionality
            if (logoutLink) {
                logoutLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    localStorage.removeItem('bistroLoggedInUser');
                    checkAuthStatus();
                    window.location.href = 'index.html';
                });
            }

            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    
                    if (href === '#') return;
                    
                    e.preventDefault();
                    const target = document.querySelector(href);
                    
                    if (target) {
                        window.scrollTo({
                            top: target.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile menu if open
                        mobileMenuBtn.classList.remove('active');
                        headerNav.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                });
            });

            // Product card hover effect enhancement
            const productCards = document.querySelectorAll('.product-card, .product-card-2');
            productCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.zIndex = '10';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.zIndex = '';
                });
            });

            // Initialize auth status
            checkAuthStatus();

            // Add page transition animation
            window.addEventListener('beforeunload', function() {
                document.body.style.opacity = '0';
                document.body.style.transition = 'opacity 0.3s ease';
            });

            // Prevent back navigation after logout
            history.pushState(null, null, window.location.href);
            window.addEventListener('popstate', function() {
                history.pushState(null, null, window.location.href);
            });

            // Intersection Observer for animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'fadeUp 0.8s ease-out forwards';
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // Observe elements for animation
            document.querySelectorAll('.product-card, .product-card-2, .section-title').forEach(el => {
                el.style.opacity = '0';
                observer.observe(el);
            });

            // Chatbot functionality
            const chatbotBtn = document.getElementById('chatbotBtn');
            const chatbotWindow = document.getElementById('chatbotWindow');
            const closeChat = document.getElementById('closeChat');
            const chatInput = document.getElementById('chatInput');
            const sendMessage = document.getElementById('sendMessage');
            const chatMessages = document.getElementById('chatMessages');
            const typingIndicator = document.getElementById('typingIndicator');

            // Chatbot responses with shortened URLs
            const botResponses = {
                greetings: [
                    "Hello! How can I assist you today? â˜•",
                    "Hi there! What can I help you with?",
                    "Greetings! Ready to explore our coffee world?"
                ],
                menu: [
                    "We offer a wide range of coffees including Americano, Cappuccino, Latte and our signature Brown Sugar Milk Tea. All made with premium beans!",
                    "Our menu features specialty coffees, teas, and light meals. Check our full menu at the 'Menu' page for details!",
                    "From classic espresso to innovative coffee creations, we have something for every taste. Try our seasonal specials too!"
                ],
                hours: [
                    "We're open daily from 12:00 PM to 9:00 PM. Perfect for hangouts and night owls!",
                    "Come visit us any day from 12 PM to 9 PM. We serve lunch and dinner!",
                    "Our doors are open 6 days a week, 12 PM to 9 PM. Join us for your coffee fix!"
                ],
                location: [
                    "Find us in the heart of Bagumbayan, Santa Cruz, Laguna! You can use this Google Maps link: https://maps.app.goo.gl/tT3YgcPiYz352s8DA",
                    "We're located in Bagumbayan, Santa Cruz, Laguna - a perfect spot to enjoy great coffee with beautiful views. Map: https://maps.app.goo.gl/tT3YgcPiYz352s8DA",
                    "Our bistro is in Bagumbayan, Santa Cruz, Laguna. Easy to find and with plenty of parking! Find us on Google Maps: https://maps.app.goo.gl/tT3YgcPiYz352s8DA"
                ],
                default: [
                    "I'm not sure about that, but I can tell you about our menu, hours, or location!",
                ]
            };

            // Toggle chatbot window
            chatbotBtn.addEventListener('click', () => {
                chatbotWindow.classList.toggle('active');
                if (chatbotWindow.classList.contains('active')) {
                    chatInput.focus();
                }
            });

            // Close chatbot
            closeChat.addEventListener('click', () => {
                chatbotWindow.classList.remove('active');
            });

            // Send message function
            function sendUserMessage(message) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message user-message';
                messageDiv.textContent = message;
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            // Simulate bot typing
            function showTypingIndicator() {
                typingIndicator.classList.add('active');
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            function hideTypingIndicator() {
                typingIndicator.classList.remove('active');
            }

            // Get bot response
            function getBotResponse(userMessage) {
                const lowerMessage = userMessage.toLowerCase();
                
                if (lowerMessage.includes('hi') || lowerMessage.includes('hello') || lowerMessage.includes('hey')) {
                    return botResponses.greetings[Math.floor(Math.random() * botResponses.greetings.length)];
                }
                if (lowerMessage.includes('menu') || lowerMessage.includes('drink') || lowerMessage.includes('coffee')) {
                    return botResponses.menu[Math.floor(Math.random() * botResponses.menu.length)];
                }
                if (lowerMessage.includes('time') || lowerMessage.includes('hour') || lowerMessage.includes('open')) {
                    return botResponses.hours[Math.floor(Math.random() * botResponses.hours.length)];
                }
                if (lowerMessage.includes('where') || lowerMessage.includes('location') || lowerMessage.includes('address')) {
                    return botResponses.location[Math.floor(Math.random() * botResponses.location.length)];
                }
                if (lowerMessage.includes('wifi') || lowerMessage.includes('internet')) {
                    return botResponses.wifi[Math.floor(Math.random() * botResponses.wifi.length)];
                }
                if (lowerMessage.includes('event') || lowerMessage.includes('music') || lowerMessage.includes('workshop')) {
                    return botResponses.events[Math.floor(Math.random() * botResponses.events.length)];
                }
                
                return botResponses.default[Math.floor(Math.random() * botResponses.default.length)];
            }

            // Send bot response with proper URL formatting
            function sendBotResponse(response) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message bot-message';
                
                // Check if the response contains a URL and format it properly
                const urlRegex = /(https?:\/\/[^\s]+)/g;
                const hasUrl = response.match(urlRegex);
                
                if (hasUrl) {
                    // If there's a URL, create a formatted message
                    const parts = response.split(urlRegex);
                    messageDiv.innerHTML = '';
                    
                    parts.forEach(part => {
                        if (urlRegex.test(part)) {
                            // It's a URL, create a clickable link
                            const link = document.createElement('a');
                            link.href = part;
                            link.target = '_blank';
                            link.rel = 'noopener noreferrer';
                            
                            // Shorten the display text if it's too long
                            const displayText = part.length > 30 ? part.substring(0, 27) + '...' : part;
                            link.textContent = displayText;
                            link.title = part; // Show full URL on hover
                            
                            messageDiv.appendChild(link);
                        } else {
                            // Regular text
                            messageDiv.appendChild(document.createTextNode(part));
                        }
                    });
                } else {
                    // No URL, just plain text
                    messageDiv.textContent = response;
                }
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }

            // Handle message sending
            function handleSendMessage() {
                const message = chatInput.value.trim();
                if (!message) return;

                sendUserMessage(message);
                chatInput.value = '';
                
                showTypingIndicator();
                
                setTimeout(() => {
                    hideTypingIndicator();
                    const response = getBotResponse(message);
                    sendBotResponse(response);
                }, 1000 + Math.random() * 1000);
            }

            // Send message on button click
            sendMessage.addEventListener('click', handleSendMessage);

            // Send message on Enter key
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleSendMessage();
                }
            });

            // Rating system functionality
            const ratingBtn = document.getElementById('ratingBtn');
            const ratingModal = document.getElementById('ratingModal');
            const stars = document.querySelectorAll('.star');
            const submitRatingBtn = document.getElementById('submitRating');
            const cancelRatingBtn = document.getElementById('cancelRating');
            const ratingFeedback = document.getElementById('ratingFeedback');
            const ratingForm = document.getElementById('ratingForm');
            const thankYouMessage = document.getElementById('thankYouMessage');

            let selectedRating = 0;

            // Open rating modal
            ratingBtn.addEventListener('click', () => {
                ratingModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            // Close rating modal
            function closeRatingModal() {
                ratingModal.classList.remove('active');
                document.body.style.overflow = '';
                resetRatingForm();
            }

            cancelRatingBtn.addEventListener('click', closeRatingModal);

            // Close modal when clicking outside
            ratingModal.addEventListener('click', (e) => {
                if (e.target === ratingModal) {
                    closeRatingModal();
                }
            });

            // Star rating selection
            stars.forEach(star => {
                star.addEventListener('click', () => {
                    const rating = parseInt(star.getAttribute('data-rating'));
                    selectedRating = rating;
                    
                    stars.forEach((s, index) => {
                        if (index < rating) {
                            s.classList.add('active');
                            s.classList.add('fas');
                            s.classList.remove('far');
                        } else {
                            s.classList.remove('active');
                            s.classList.add('far');
                            s.classList.remove('fas');
                        }
                    });
                });

                star.addEventListener('mouseover', () => {
                    const rating = parseInt(star.getAttribute('data-rating'));
                    
                    stars.forEach((s, index) => {
                        if (index < rating) {
                            s.classList.add('fas');
                            s.classList.remove('far');
                        } else {
                            s.classList.add('far');
                            s.classList.remove('fas');
                        }
                    });
                });

                star.addEventListener('mouseout', () => {
                    stars.forEach((s, index) => {
                        if (selectedRating === 0) {
                            s.classList.add('far');
                            s.classList.remove('fas');
                            s.classList.remove('active');
                        } else if (index < selectedRating) {
                            s.classList.add('fas');
                            s.classList.remove('far');
                            s.classList.add('active');
                        } else {
                            s.classList.add('far');
                            s.classList.remove('fas');
                            s.classList.remove('active');
                        }
                    });
                });
            });

            // Reset rating form
            function resetRatingForm() {
                selectedRating = 0;
                ratingFeedback.value = '';
                stars.forEach(star => {
                    star.classList.add('far');
                    star.classList.remove('fas');
                    star.classList.remove('active');
                });
            }

            // Submit rating
            submitRatingBtn.addEventListener('click', () => {
                if (selectedRating === 0) {
                    alert('Please select a rating before submitting.');
                    return;
                }

                // Get existing ratings from localStorage
                let ratings = JSON.parse(localStorage.getItem('bistroRatings')) || [];
                
                // Create new rating object
                const newRating = {
                    rating: selectedRating,
                    feedback: ratingFeedback.value.trim(),
                    date: new Date().toISOString(),
                    user: JSON.parse(localStorage.getItem('bistroLoggedInUser'))?.name || 'Anonymous'
                };
                
                // Add to ratings array
                ratings.push(newRating);
                
                // Save to localStorage
                localStorage.setItem('bistroRatings', JSON.stringify(ratings));
                
                // Show thank you message
                ratingForm.style.display = 'none';
                thankYouMessage.style.display = 'block';
                
                // Show confirmation message in chat
                setTimeout(() => {
                    if (chatbotWindow.classList.contains('active')) {
                        const messageDiv = document.createElement('div');
                        messageDiv.className = 'message bot-message';
                        messageDiv.textContent = `Thanks for your ${selectedRating}-star rating! We appreciate your feedback.`;
                        chatMessages.appendChild(messageDiv);
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    }
                }, 500);
                
                // Close modal after 2 seconds
                setTimeout(() => {
                    closeRatingModal();
                    setTimeout(() => {
                        ratingForm.style.display = 'block';
                        thankYouMessage.style.display = 'none';
                    }, 300);
                }, 2000);
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Escape to close modals
                if (e.key === 'Escape') {
                    if (chatbotWindow.classList.contains('active')) {
                        chatbotWindow.classList.remove('active');
                    }
                    if (ratingModal.classList.contains('active')) {
                        closeRatingModal();
                    }
                }
                
                // Ctrl+/ for chatbot
                if (e.ctrlKey && e.key === '/') {
                    e.preventDefault();
                    chatbotWindow.classList.toggle('active');
                    if (chatbotWindow.classList.contains('active')) {
                        chatInput.focus();
                    }
                }
            });
        });

        // Enhanced error handling
        window.addEventListener('error', function(e) {
            console.error('Error occurred:', e.error);
        });

        // Image loading error handling
        document.querySelectorAll('img').forEach(img => {
            img.addEventListener('error', function() {
                this.style.opacity = '0';
                setTimeout(() => {
                    this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSI0MDAiIGZpbGw9IiNGQUY3RjIiLz48cGF0aCBkPSJNMTUwIDE1MEgxNTVWMjA1SDE1MFYxNTBaIiBmaWxsPSIjQ0M3QTNCIi8+PHBhdGggZD0iTTIwMCAyNTBDMjI0Ljg1IDI1MCAyNDUgMjI5Ljg1IDI0NSAyMDVDMjQ1IDE4MC4xNSAyMjQuODUgMTYwIDIwMCAxNjBDMTc1LjE1IDE2MCAxNTUgMTgwLjE1IDE1NSAyMDVDMTU1IDIyOS44NSAxNzUuMTUgMjUwIDIwMCAyNTBaIiBmaWxsPSIjQ0M3QTNCIi8+PC9zdmc+';
                    this.style.opacity = '1';
                }, 300);
            });
        });
    </script>
</body>
</html>